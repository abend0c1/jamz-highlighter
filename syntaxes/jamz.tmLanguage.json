{
	"$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
	"name": "JAMZ",
	"patterns": 
	[
		{"include": "#embedded" },
		{"include": "#string"   },
		{"include": "#keyword"  },
		{"include": "#comment"  }
	],
	"repository": 
	{
		"embedded": 
		{
			"patterns": 
			[
				{
					"begin": "\\[",
					"end": "\\]",
					"patterns":
					[
						{"include": "source.rexx"}
					],
					"contentName": "meta.embedded.block.rexx",
					"name": "keyword.operator.jamz"
				}
			]
		},
		"keyword": 
		{
			"patterns": 
			[
				{
					"begin": "^\\.\\.\\s*(?i:set|rexx)\\b",
					"end": "$",
					"contentName": "meta.embedded.block.rexx",
					"patterns":
					[
						{"include": "source.rexx"},
						{
							"begin": "\\[",
							"end": "\\]",
							"patterns":
							[
								{"include": "source.rexx"}
							],
							"contentName": "meta.embedded.block.rexx",
							"name": "keyword.operator.jamz"
						}
					],
					"name": "keyword.other.jamz"
				},
				{
					"match": "^\\.\\.\\s*(?i)(askqu|askq|asku|ask)\\s+([A-Za-z!?_@#$][!?_@#$.A-Za-z0-9]*)?\\b\\s*('.*')\\s+(.+)?",
					"captures":
					{
						"0": {"name": "keyword.other.jamz"},
						"2": {"name": "variable.rexx"},
						"3": {
								"name": "string.quoted.jamz",
								"patterns":
								[
									{
										"begin": "\\[",
										"end": "\\]",
										"patterns":
										[
											{"include": "source.rexx"}
										],
										"contentName": "meta.embedded.block.rexx",
										"name": "keyword.operator.jamz"
									}
								]
							 },
						"4": {"name": "string.unquoted.jamz"}
					},
					"name": "source.jamz"
				},
				{
					"match": "^\\.\\.\\s*(?i)(askqu|askq|asku|ask)\\s+([A-Za-z!?_@#$][!?_@#$.A-Za-z0-9]*)?\\b\\s*(.+?)?\\s+(.+)?",
					"captures":
					{
						"0": {"name": "keyword.other.jamz"},
						"2": {"name": "variable.rexx"},
						"3": {
								"name": "string.unquoted.jamz",
								"patterns":
								[
									{
										"begin": "\\[",
										"end": "\\]",
										"patterns":
										[
											{"include": "source.rexx"}
										],
										"contentName": "meta.embedded.block.rexx",
										"name": "keyword.operator.jamz"
									}
								]
							 },
						"4": {"name": "string.unquoted.jamz"}
					},
					"name": "source.jamz"
				},
				{
					"match": "^\\.\\.\\s*(?i:macro\\s+define)\\s+([A-Za-z!?_@#$][A-Za-z0-9!?_@#$.]*)\\b",
					"captures":
					{
						"1": {"name": "entity.name.function.jamz"}
					},
					"name": "keyword.other.jamz"
				},
				{
					"match": "\\b(?i:macro\\s+(?!:define|end|exit))([A-Za-z!?_@#$][A-Za-z0-9!?_@#$.]*)\\b",
					"captures":
					{
						"1": {"name": "entity.name.function.jamz"}
					},
					"name": "keyword.other.jamz"
				},
				{
					"match": "^\\.\\.\\s*(?i:if|else|select|when|otherwise|end|quit)\\b",
					"name": "keyword.control.jamz"
				},
				{
					"match": "[-,]$",
					"name": "keyword.operator.jamz"
				},
				{
					"match": "^\\.\\.\\s*(?i:args|auto|backup|br14|catalog|compress|copy|datevars|delete|get|getout|help|for|include|jcl|job|listcat|listvtoc|macro|map|mount|option|put|queue|queued|recover|rename|repro|restore|rexx|runon|say|scratch|set|ship|step|style|submit|sudo|table|tso|uncatalog|unmount|uss|xeq|xmit)\\b",
					"name": "keyword.other.jamz"
				},
				{
					"match": "\\b(?i:end|cancel|read|parse|where|to|by|push|pop|first|next|prev|last|after|before|easter)\\b",
					"name": "keyword.other.jamz"
				},
				{
					"match": "^\\.\\.\\s*\\*",
					"name": "keyword.other.jamz"
				}
			]
		},
		"string": 
		{
			"patterns": 
			[
				{
					"begin": "\"",
					"end": "\"",
					"patterns": 
					[
						{"include": "embedded"}
					],
					"name": "string.quoted.double.jamz"
				},
				{
					"begin": "'",
					"end": "'",
					"patterns": 
					[
						{"include": "embedded"}
					],
					"name": "string.quoted.single.jamz"
				}
			]
		},
		"comment": 
		{
			"patterns": 
			[
				{
					"match": "^\\.\\.\\s*\\.\\s+.*",
					"name": "comment.line.jamz"
				}
			]
		}
	},
	"scopeName": "source.jamz"
}